#!/bin/bash

set -eo pipefail

# --------------------
# ğ˜•ğ˜°ğ˜µğ˜ªğ˜¤ğ˜¦:
#
# ğ˜›ğ˜©ğ˜¦ ğ˜§ğ˜¶ğ˜¯ğ˜¤ğ˜µğ˜ªğ˜°ğ˜¯ ğ˜¤ğ˜°ğ˜¯ğ˜·ğ˜¦ğ˜³ğ˜µğ˜´
# ğ˜µğ˜©ğ˜¦ ğ˜±ğ˜¢ğ˜´ğ˜´ğ˜¦ğ˜¥ ğ˜±ğ˜¢ğ˜µğ˜µğ˜¦ğ˜³ğ˜¯ ğ˜´ğ˜µğ˜³ğ˜ªğ˜¯ğ˜¨
# ğ˜´ğ˜¦ğ˜±ğ˜¢ğ˜³ğ˜¢ğ˜µğ˜¦ğ˜¥ ğ˜£ğ˜º ğ˜¢ğ˜¯ ğ˜¦ğ˜²ğ˜¶ğ˜¢ğ˜­ğ˜´
# ğ˜´ğ˜ªğ˜¨ğ˜¯ ğ˜ªğ˜¯ğ˜µğ˜° ğ˜µğ˜©ğ˜¦ ğ˜±ğ˜¢ğ˜´ğ˜´ğ˜¦ğ˜¥ ğ˜·ğ˜¢ğ˜³ğ˜ªğ˜¢ğ˜£ğ˜­ğ˜¦.
#
# --------------------
# Use render "VAR1=1,VaR2_=2 ..." "filename"
render() {
  : "${1:?'Template of variable not found'}"
  : "${2:?'File not define'}"

  declare -r vars="$1"
  declare -r file="$2"

  for i in $(echo "$vars" | sed "s/,/ /g")
  do
    sed -i "s/%${i%=*}%/"${i#*=}"/g" "$file"
  done
}
# --------------------
